"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    processDependencies: function() {
        return processDependencies;
    },
    getDependencyRegExp: function() {
        return getDependencyRegExp;
    },
    sanitizeDependencyPaths: function() {
        return sanitizeDependencyPaths;
    }
});
const _builders = require("../builders");
function processDependencies(config) {
    const { depsToTranspile, transpilationMode } = config;
    if (transpilationMode === _builders.TranspilationModes.LocalAndDeps) {
        const regex = getDependencyRegExp(depsToTranspile);
        if (regex !== null) {
            return [
                regex
            ];
        }
    }
    return [];
}
function getDependencyRegExp(dependencies) {
    if (!dependencies || dependencies.includes('.') || !dependencies.length) {
        return null;
    }
    const paths = sanitizeDependencyPaths(dependencies);
    return RegExp(`/node_modules/(?!${paths.join('|')})`, 'u');
}
function sanitizeDependencyPaths(dependencies) {
    return dependencies.map((dependency)=>{
        return dependency.replace(/^[/\\]+/u, '').replace(/[/\\]+$/u, '');
    });
}

//# sourceMappingURL=legacy.js.map