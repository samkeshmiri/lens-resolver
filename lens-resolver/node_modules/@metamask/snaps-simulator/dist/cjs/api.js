"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "setWindowApi", {
    enumerable: true,
    get: function() {
        return setWindowApi;
    }
});
var _utils = require("@metamask/utils");
var _utils1 = require("./utils");
function setWindowApi(store) {
    (0, _utils.assert)(_utils1.IS_TEST_BUILD, "This function should only be called in a test build.");
    window.__SIMULATOR_API__ = {
        dispatch: store.dispatch,
        subscribe: store.subscribe.bind(store),
        getState: function() {
            return store.getState();
        },
        getRequestId: function() {
            return store.getState().simulation.requestId;
        },
        getNotifications: function(requestId) {
            var state = store.getState();
            return state.notifications.allNotifications.filter(function(notification) {
                return notification.id === requestId;
            });
        }
    };
}
