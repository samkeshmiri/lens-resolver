{"version":3,"sources":["../../src/icon.ts"],"sourcesContent":["import { assert } from '@metamask/utils';\nimport isSvg from 'is-svg';\n\nimport type { VirtualFile } from './virtual-file';\n\nexport const SVG_MAX_BYTE_SIZE = 100_000;\nexport const SVG_MAX_BYTE_SIZE_TEXT = `${Math.floor(\n  SVG_MAX_BYTE_SIZE / 1000,\n)}kb`;\n\nexport const assertIsSnapIcon = (icon: VirtualFile) => {\n  assert(icon.path.endsWith('.svg'), 'Expected snap icon to end in \".svg\".');\n\n  assert(\n    Buffer.byteLength(icon.value, 'utf8') <= SVG_MAX_BYTE_SIZE,\n    `The specified SVG icon exceeds the maximum size of ${SVG_MAX_BYTE_SIZE_TEXT}.`,\n  );\n\n  assert(isSvg(icon.toString()), 'Snap icon must be a valid SVG.');\n};\n"],"names":["assert","isSvg","SVG_MAX_BYTE_SIZE","SVG_MAX_BYTE_SIZE_TEXT","Math","floor","assertIsSnapIcon","icon","path","endsWith","Buffer","byteLength","value","toString"],"mappings":"AAAA,SAASA,MAAM,QAAQ,kBAAkB;AACzC,OAAOC,WAAW,SAAS;AAI3B,OAAO,MAAMC,oBAAoB,OAAQ;AACzC,OAAO,MAAMC,yBAAyB,CAAC,EAAEC,KAAKC,KAAK,CACjDH,oBAAoB,MACpB,EAAE,CAAC,CAAC;AAEN,OAAO,MAAMI,mBAAmB,CAACC;IAC/BP,OAAOO,KAAKC,IAAI,CAACC,QAAQ,CAAC,SAAS;IAEnCT,OACEU,OAAOC,UAAU,CAACJ,KAAKK,KAAK,EAAE,WAAWV,mBACzC,CAAC,mDAAmD,EAAEC,uBAAuB,CAAC,CAAC;IAGjFH,OAAOC,MAAMM,KAAKM,QAAQ,KAAK;AACjC,EAAE"}