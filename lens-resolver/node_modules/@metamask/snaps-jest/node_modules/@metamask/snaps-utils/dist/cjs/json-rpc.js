"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    RpcOriginsStruct: function() {
        return RpcOriginsStruct;
    },
    assertIsRpcOrigins: function() {
        return assertIsRpcOrigins;
    },
    assertIsJsonRpcSuccess: function() {
        return assertIsJsonRpcSuccess;
    }
});
const _utils = require("@metamask/utils");
const _superstruct = require("superstruct");
const RpcOriginsStruct = (0, _superstruct.refine)((0, _superstruct.object)({
    dapps: (0, _superstruct.optional)((0, _superstruct.boolean)()),
    snaps: (0, _superstruct.optional)((0, _superstruct.boolean)())
}), 'RPC origins', (value)=>{
    if (!Object.values(value).some(Boolean)) {
        throw new Error('Must specify at least one JSON-RPC origin');
    }
    return true;
});
function assertIsRpcOrigins(value, // eslint-disable-next-line @typescript-eslint/naming-convention
ErrorWrapper) {
    (0, _utils.assertStruct)(value, RpcOriginsStruct, 'Invalid JSON-RPC origins', ErrorWrapper);
}
function assertIsJsonRpcSuccess(value) {
    if (!(0, _utils.isJsonRpcSuccess)(value)) {
        if ((0, _utils.isJsonRpcFailure)(value)) {
            throw new Error(`JSON-RPC request failed: ${value.error.message}`);
        }
        throw new Error('Invalid JSON-RPC response.');
    }
}

//# sourceMappingURL=json-rpc.js.map