{"version":3,"sources":["../../../../src/snaps/endowments/index.ts"],"sourcesContent":["import type { PermissionConstraint } from '@metamask/permission-controller';\nimport { HandlerType } from '@metamask/snaps-utils';\nimport type { Json } from '@metamask/utils';\n\nimport {\n  cronjobCaveatSpecifications,\n  cronjobEndowmentBuilder,\n  getCronjobCaveatMapper,\n} from './cronjob';\nimport { ethereumProviderEndowmentBuilder } from './ethereum-provider';\nimport { longRunningEndowmentBuilder } from './long-running';\nimport { networkAccessEndowmentBuilder } from './network-access';\nimport {\n  getRpcCaveatMapper,\n  rpcCaveatSpecifications,\n  rpcEndowmentBuilder,\n} from './rpc';\nimport {\n  getTransactionInsightCaveatMapper,\n  transactionInsightCaveatSpecifications,\n  transactionInsightEndowmentBuilder,\n} from './transaction-insight';\nimport { webAssemblyEndowmentBuilder } from './web-assembly';\n\nexport const endowmentPermissionBuilders = {\n  [networkAccessEndowmentBuilder.targetName]: networkAccessEndowmentBuilder,\n  [longRunningEndowmentBuilder.targetName]: longRunningEndowmentBuilder,\n  [transactionInsightEndowmentBuilder.targetName]:\n    transactionInsightEndowmentBuilder,\n  [cronjobEndowmentBuilder.targetName]: cronjobEndowmentBuilder,\n  [ethereumProviderEndowmentBuilder.targetName]:\n    ethereumProviderEndowmentBuilder,\n  [rpcEndowmentBuilder.targetName]: rpcEndowmentBuilder,\n  [webAssemblyEndowmentBuilder.targetName]: webAssemblyEndowmentBuilder,\n} as const;\n\nexport const endowmentCaveatSpecifications = {\n  ...cronjobCaveatSpecifications,\n  ...transactionInsightCaveatSpecifications,\n  ...rpcCaveatSpecifications,\n};\n\nexport const endowmentCaveatMappers: Record<\n  string,\n  (value: Json) => Pick<PermissionConstraint, 'caveats'>\n> = {\n  [cronjobEndowmentBuilder.targetName]: getCronjobCaveatMapper,\n  [transactionInsightEndowmentBuilder.targetName]:\n    getTransactionInsightCaveatMapper,\n  [rpcEndowmentBuilder.targetName]: getRpcCaveatMapper,\n};\n\nexport const handlerEndowments: Record<HandlerType, string> = {\n  [HandlerType.OnRpcRequest]: rpcEndowmentBuilder.targetName,\n  [HandlerType.OnTransaction]: transactionInsightEndowmentBuilder.targetName,\n  [HandlerType.OnCronjob]: cronjobEndowmentBuilder.targetName,\n};\n\nexport * from './enum';\nexport { getRpcCaveatOrigins } from './rpc';\nexport { getTransactionOriginCaveat } from './transaction-insight';\n"],"names":["endowmentPermissionBuilders","endowmentCaveatSpecifications","endowmentCaveatMappers","handlerEndowments","getRpcCaveatOrigins","getTransactionOriginCaveat","networkAccessEndowmentBuilder","targetName","longRunningEndowmentBuilder","transactionInsightEndowmentBuilder","cronjobEndowmentBuilder","ethereumProviderEndowmentBuilder","rpcEndowmentBuilder","webAssemblyEndowmentBuilder","cronjobCaveatSpecifications","transactionInsightCaveatSpecifications","rpcCaveatSpecifications","getCronjobCaveatMapper","getTransactionInsightCaveatMapper","getRpcCaveatMapper","HandlerType","OnRpcRequest","OnTransaction","OnCronjob"],"mappings":";;;;;;;;;;;IAwBaA,2BAA2B;eAA3BA;;IAYAC,6BAA6B;eAA7BA;;IAMAC,sBAAsB;eAAtBA;;IAUAC,iBAAiB;eAAjBA;;IAOJC,mBAAmB;eAAnBA,wBAAmB;;IACnBC,0BAA0B;eAA1BA,8CAA0B;;;4BA3DP;yBAOrB;kCAC0C;6BACL;+BACE;qBAKvC;oCAKA;6BACqC;qBAoC9B;;;;;;;;;;;;;;AAlCP,MAAML,8BAA8B;IACzC,CAACM,4CAA6B,CAACC,UAAU,CAAC,EAAED,4CAA6B;IACzE,CAACE,wCAA2B,CAACD,UAAU,CAAC,EAAEC,wCAA2B;IACrE,CAACC,sDAAkC,CAACF,UAAU,CAAC,EAC7CE,sDAAkC;IACpC,CAACC,gCAAuB,CAACH,UAAU,CAAC,EAAEG,gCAAuB;IAC7D,CAACC,kDAAgC,CAACJ,UAAU,CAAC,EAC3CI,kDAAgC;IAClC,CAACC,wBAAmB,CAACL,UAAU,CAAC,EAAEK,wBAAmB;IACrD,CAACC,wCAA2B,CAACN,UAAU,CAAC,EAAEM,wCAA2B;AACvE;AAEO,MAAMZ,gCAAgC;IAC3C,GAAGa,oCAA2B;IAC9B,GAAGC,0DAAsC;IACzC,GAAGC,4BAAuB;AAC5B;AAEO,MAAMd,yBAGT;IACF,CAACQ,gCAAuB,CAACH,UAAU,CAAC,EAAEU,+BAAsB;IAC5D,CAACR,sDAAkC,CAACF,UAAU,CAAC,EAC7CW,qDAAiC;IACnC,CAACN,wBAAmB,CAACL,UAAU,CAAC,EAAEY,uBAAkB;AACtD;AAEO,MAAMhB,oBAAiD;IAC5D,CAACiB,uBAAW,CAACC,YAAY,CAAC,EAAET,wBAAmB,CAACL,UAAU;IAC1D,CAACa,uBAAW,CAACE,aAAa,CAAC,EAAEb,sDAAkC,CAACF,UAAU;IAC1E,CAACa,uBAAW,CAACG,SAAS,CAAC,EAAEb,gCAAuB,CAACH,UAAU;AAC7D"}